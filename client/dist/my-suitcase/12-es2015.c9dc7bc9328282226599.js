(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"2i3i":function(e,r,t){"use strict";t.r(r),t.d(r,"RegisterModule",(function(){return w}));var o=t("3Pt+"),a=t("RTfJ"),i=t("fXoL"),n=t("XNiG"),s=t("smFM"),l=t("tk/3");let d=(()=>{class e{constructor(e,r){this.http=e,this._loginService=r,this.URL_REGISTER="http://localhost:3000/api/register/"}register(e){const r=new n.a;return this.http.post(this.URL_REGISTER,e).subscribe(e=>{"object"==typeof e&&(console.log("user registered",e),this._loginService.setActiveUser(e)),r.next(e)},e=>{r.error(e)}),r}}return e.\u0275fac=function(r){return new(r||e)(i.Qb(l.a),i.Qb(s.a))},e.\u0275prov=i.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const m=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[-!#$%{}()*+,.:;|?@_])[A-Za-z\d-!#$%{}()*+,.:;|?@_]{6,20}$/;function c(){return e=>m.test(e.value)?null:{forbiddenPassword:{value:e.value}}}const b=e=>{const r=e.get("password"),t=e.get("passwordConfirmation");return r&&t&&r.value!==t.value?{notMatchingPasswords:!0}:null};var u=t("tyNb");const p=new i.q("BASE_ROUTE"),f=[{path:"",component:(()=>{class e{constructor(e,r,t,o){this._registerService=e,this._router=r,this.baseRoute=t,this.fb=o}ngOnInit(){this.registerForm=this._setRegisterForm()}_setRegisterForm(){return this.passwordForm=this._setPasswordForm(),this.fb.group({email:[null,o.l.compose([o.l.required,o.l.email])],passwords:this.passwordForm,name:[null,o.l.maxLength(12)],age:[null,o.l.compose([o.l.min(14),o.l.max(99)])],gender:null})}_setPasswordForm(){return new o.e({password:new o.c(null,[o.l.required,o.l.minLength(6),o.l.maxLength(20),c()]),passwordConfirmation:new o.c(null,[o.l.required,o.l.minLength(6),o.l.maxLength(20),c()])},{validators:b})}goTo(e){this._router.navigate([e])}isValidForm(){return this.registerForm.valid}submit(){this.isValidForm()&&this._registerService.register(this.registerForm.value).subscribe(e=>{e?this.goTo(this.baseRoute.toString()):console.error("An user already exist with this email")},e=>{console.error("Error in the transaction")})}}return e.\u0275fac=function(r){return new(r||e)(i.Jb(d),i.Jb(u.a),i.Jb(p),i.Jb(o.b))},e.\u0275cmp=i.Db({type:e,selectors:[["app-register"]],decls:45,vars:3,consts:[[1,"col-lg-6","col-xl-6","offset-xl-1",3,"formGroup"],[1,"search-wrapper"],[1,"form-group"],["for","name"],["type","text","id","name","aria-describedby","name","placeholder","Introduce tu nombre de usuario","formControlName","name",1,"form-control"],["id","nameHelp",1,"form-text","text-muted"],["for","email"],["type","email","id","email","aria-describedby","emailHelp","placeholder","Introduce email","formControlName","email",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],[3,"formGroup"],["for","password"],["type","password","id","password","placeholder","Introduce la contrase\xf1a","formControlName","password",1,"form-control"],["id","passwordHelp",1,"form-text","text-muted"],["for","passwordConfirmation"],["type","password","id","passwordConfirmation","placeholder","Repite la contrase\xf1a","formControlName","passwordConfirmation",1,"form-control"],["for","age"],["type","number","id","age","aria-describedby","age","placeholder","Introduce tu edad","formControlName","age",1,"form-control"],["id","ageHelp",1,"form-text","text-muted"],["id","male","type","radio","value","male","name","gender","formControlName","gender"],["for","male"],["id","female","type","radio","value","female","name","gender","formControlName","gender"],["for","female"],["id","genderHelp",1,"form-text","text-muted"],[1,"button-block"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],["href","javascript:void(0)","role","button","aria-haspopup","true","aria-expanded","false",1,"nav-link",3,"click"],["alt","login image","src","img/home/service1.png",1,"login-img"]],template:function(e,r){1&e&&(i.Mb(0,"form",0),i.Mb(1,"div",1),i.Mb(2,"div",2),i.Mb(3,"label",3),i.dc(4,"Nombre"),i.Lb(),i.Kb(5,"input",4),i.Mb(6,"small",5),i.dc(7,"Opcional"),i.Lb(),i.Mb(8,"label",6),i.dc(9,"Email"),i.Lb(),i.Kb(10,"input",7),i.Mb(11,"small",8),i.dc(12,"No compartiremos tu email con nadie"),i.Lb(),i.Mb(13,"div",9),i.Mb(14,"label",10),i.dc(15,"Contrase\xf1a"),i.Lb(),i.Kb(16,"input",11),i.Mb(17,"small",12),i.dc(18,"La contrase\xf1a debe contener entre 6 y 20 caracteres, de los cuales 1 minuscula, 1 mayuscula, 1 numero y 1 caracter especial"),i.Lb(),i.Mb(19,"label",13),i.dc(20,"Repite la contrase\xf1a"),i.Lb(),i.Kb(21,"input",14),i.Lb(),i.Mb(22,"label",15),i.dc(23,"Edad"),i.Lb(),i.Kb(24,"input",16),i.Mb(25,"small",17),i.dc(26,"Opcional"),i.Lb(),i.Mb(27,"label",15),i.dc(28,"Sexo"),i.Lb(),i.Mb(29,"div"),i.Kb(30,"input",18),i.Mb(31,"label",19),i.dc(32,"Male"),i.Lb(),i.Lb(),i.Mb(33,"div"),i.Kb(34,"input",20),i.Mb(35,"label",21),i.dc(36,"Female"),i.Lb(),i.Lb(),i.Mb(37,"small",22),i.dc(38,"Opcional"),i.Lb(),i.Lb(),i.Mb(39,"div",23),i.Mb(40,"button",24),i.Ub("click",(function(){return r.submit()})),i.dc(41,"Empezar!"),i.Lb(),i.Lb(),i.Mb(42,"a",25),i.Ub("click",(function(){return r.goTo("login")})),i.dc(43,"Ya estoy registrado, volver"),i.Lb(),i.Lb(),i.Kb(44,"img",26),i.Lb()),2&e&&(i.Xb("formGroup",r.registerForm),i.zb(13),i.Xb("formGroup",r.passwordForm),i.zb(27),i.Xb("disabled",!r.isValidForm()))},directives:[o.m,o.h,o.f,o.a,o.g,o.d,o.i,o.j],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{margin:auto;padding-top:10%}[_nghost-%COMP%]   .login-img[_ngcontent-%COMP%]{min-height:200px;display:block;margin:20px auto auto}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(r){return new(r||e)},imports:[[u.b.forChild(f)],u.b]}),e})();var h=t("ofXK");let w=(()=>{class e{constructor(){}}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(r){return new(r||e)},providers:[{provide:p,useValue:"/"}],imports:[[h.b,a.a,g,o.k]]}),e})()}}]);