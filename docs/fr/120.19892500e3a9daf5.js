"use strict";(self.webpackChunkmy_suitcase=self.webpackChunkmy_suitcase||[]).push([[120],{3592:(L,R,n)=>{n.r(R),n.d(R,{RegisterModule:()=>$});var o=n(6223),u=n(1782),_=n(5879),E=n(8525),A=n(2079),N=n(553),m=n(9862),M=n(930);let p=(()=>{class e{constructor(t,r){this.http=t,this._sessionService=r,this.URL_REGISTER=N.N.apiUrl+"register/"}register(t){const r=new A.xQ;return this.http.post(this.URL_REGISTER,t).subscribe(s=>{"object"==typeof s?(console.log("user registered",s.user),this._sessionService.startSession(s.token),r.next(s.user)):r.next(s)},s=>{r.error(s)}),r}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(m.eN),_.LFG(M.m))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n(8006),f=n(8882),P=n(1584);const d=new _.OlP("BASE_ROUTE");let O=(()=>{class e{constructor(t,r,s,a){this._registerService=t,this._router=r,this.baseRoute=s,this.fb=a}ngOnInit(){this.registerForm=this._setRegisterForm()}_setRegisterForm(){return this.passwordForm=this._setPasswordForm(),this.fb.group({email:[null,o.kI.compose([o.kI.required,o.kI.email])],passwords:this.passwordForm,name:[null,o.kI.maxLength(12)],age:[null,o.kI.compose([o.kI.min(14),o.kI.max(99)])],gender:null})}_setPasswordForm(){return new o.nJ({password:new o.p4(null,[o.kI.required,o.kI.minLength(6),o.kI.maxLength(20),(0,E.y)()]),passwordConfirmation:new o.p4(null,[o.kI.required,o.kI.minLength(6),o.kI.maxLength(20),(0,E.y)()])},{validators:E.Y})}goTo(t){this._router.navigate([t])}isValidForm(){return this.registerForm.valid}submit(){this.isValidForm()&&this._registerService.register(this.registerForm.value).subscribe(t=>{t?this.goTo(this.baseRoute.toString()):console.error("An user already exist with this email")},t=>{console.error("Error in the transaction")})}}return e.\u0275fac=function(t){return new(t||e)(_.Y36(p),_.Y36(l.F0),_.Y36(d),_.Y36(o.QS))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-register"]],decls:28,vars:3,consts:function(){let i,t,r,s,a,T,I,c,g,C;return i="Nombre",t="Introduce tu nombre de usuario",r="Introduce tu email",s="Contrase\xF1a",a="Introduce tu contrase\xF1a",T="La contrase\xF1a debe contener entre 6 y 20 caracteres e incluir al menos 1 min\xFAscula, 1 may\xFAscula, 1 n\xFAmero y 1 car\xE1cter especial",I="Repite la contrase\xF1a",c="Repite la contrase\xF1a",g="\xA1Comenzar!",C="Ya estoy registrado, quiero volver.",[[1,"form-contact","col-lg-6","col-xl-6","offset-xl-1",3,"formGroup"],[1,"search-wrapper"],[1,"form-group"],["for","name"],i,["type","text","id","name","aria-describedby","name","placeholder",t,"formControlName","name",1,"form-control"],["for","email"],["type","email","id","email","aria-describedby","emailHelp","placeholder",r,"formControlName","email",1,"form-control"],[3,"formGroup"],["for","password"],s,["type","password","id","password","placeholder",a,"formControlName","password",1,"form-control"],[1,"details"],["id","passwordHelp",1,"form-text","text-muted"],T,["for","passwordConfirmation"],I,["type","password","id","passwordConfirmation","placeholder",c,"formControlName","passwordConfirmation",1,"form-control"],[1,"button-block"],["type","submit",1,"button","border-1","mt-3",3,"disabled","click"],g,["href","javascript:void(0)","role","button","aria-haspopup","true","aria-expanded","false",1,"nav-link",3,"click"],C,["alt","login image","src","assets/img/login/undraw_travelers.svg",1,"register-img"]]},template:function(t,r){1&t&&(_._UZ(0,"navbar-component"),_.TgZ(1,"form",0)(2,"div",1)(3,"div",2)(4,"label",3),_.SDv(5,4),_.qZA(),_._UZ(6,"input",5),_.TgZ(7,"label",6),_._uU(8,"Email"),_.qZA(),_._UZ(9,"input",7),_.TgZ(10,"div",8)(11,"label",9),_.SDv(12,10),_.qZA(),_._UZ(13,"input",11),_.TgZ(14,"details",12)(15,"small",13),_.SDv(16,14),_.qZA()(),_.TgZ(17,"label",15),_.SDv(18,16),_.qZA(),_._UZ(19,"input",17),_.qZA()(),_.TgZ(20,"div",18)(21,"button",19),_.NdJ("click",function(){return r.submit()}),_.SDv(22,20),_.qZA()(),_.TgZ(23,"small")(24,"a",21),_.NdJ("click",function(){return r.goTo("login")}),_.SDv(25,22),_.qZA()()(),_._UZ(26,"img",23),_.qZA(),_._UZ(27,"footer-component")),2&t&&(_.xp6(1),_.Q6J("formGroup",r.registerForm),_.xp6(9),_.Q6J("formGroup",r.passwordForm),_.xp6(11),_.Q6J("disabled",!r.isValidForm()))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,f.w,P.c],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{margin:auto;padding-top:10%}[_nghost-%COMP%]   .register-img[_ngcontent-%COMP%]{width:200px;display:block;margin:20px auto auto}[_nghost-%COMP%]   .details[_ngcontent-%COMP%]{margin-top:5px;font-size:10px}"]}),e})();var G=n(1508);const U=[{path:"",component:O}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({providers:[G.r],imports:[l.Bz.forChild(U),l.Bz]}),e})();var v=n(6814);let $=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({providers:[{provide:d,useValue:"/"}],imports:[v.ez,u.m,h,o.UX]}),e})()}}]);