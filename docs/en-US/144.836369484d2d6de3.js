"use strict";(self.webpackChunkmy_suitcase=self.webpackChunkmy_suitcase||[]).push([[144],{8144:(y,a,n)=>{n.r(a),n.d(a,{UsersModule:()=>L});var U=n(1782),l=n(8006),t=n(5879),h=n(9862),p=n(9193),c=n(6406),d=n(6124),m=n(2413),f=n(553);let g=(()=>{class s{constructor(e,r){this._http=e,this._router=r,this.URL_API=f.N.apiUrl+"users/"}get activeUser(){return this._activeUser}set activeUser(e){this._activeUser=e}getUser(e){return this._http.get(this.URL_API+e).pipe((0,c.X)(3),(0,d.U)(r=>{if(!r)throw new Error("User not found");return r}))}getUsers(){return this._http.get(this.URL_API).pipe((0,c.X)(3),(0,d.U)(e=>{if(!e)throw new Error("there were not found users!");return e}),(0,m.K)(e=>(console.log(e.message),e instanceof h.UA&&(401===e.status||500===e.status)&&(console.log("unauthorized request"),this._router.navigate(["/login"])),(0,p.of)([]))))}addUser(e){return this._http.post(this.URL_API,e).pipe((0,c.X)(3),(0,d.U)(r=>{if(!r)throw new Error("User couldnt get added");return r}))}updateUser(e){return this._http.put(this.URL_API+e._id,e).pipe((0,c.X)(3),(0,d.U)(r=>{if(!r)throw new Error("User couldnt get updated");return r}))}deleteUser(e){return this._http.delete(this.URL_API+e).pipe((0,c.X)(3),(0,d.U)(r=>{if(!r)throw new Error("User couldnt get deleted");return r}))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(h.eN),t.LFG(l.F0))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var o=n(6223);const v=[{path:"",component:(()=>{class s{constructor(e,r,u){this._userService=e,this._changeDetector=r,this._fb=u}ngOnInit(){this.usersForm=this._fb.group({userId:null})}getUsers(){this._userService.getUsers().subscribe(e=>{this.result=JSON.stringify(e),this._changeDetector.detectChanges()},e=>{console.error(e)})}getUser(){this._userService.getUser(this.usersForm.controls.userId.value).subscribe(e=>{this.result=JSON.stringify(e),this._changeDetector.detectChanges()},e=>{console.error(e)})}addUser(){this._userService.addUser({address:{country:void 0,city:void 0,street:void 0,number:void 0,postCode:void 0,coordinates:void 0},admin:!1,age:20,email:"paco@paco.com",joiningDate:new Date,name:"paco",password:"1234"}).subscribe(e=>{this.result=e,this._changeDetector.detectChanges()},e=>{console.error(e)})}updateUser(){this._userService.getUser(this.usersForm.controls.userId.value).subscribe(e=>{this.result=JSON.stringify(e),this._changeDetector.detectChanges()},e=>{console.error(e)})}deleteUser(){this._userService.deleteUser(this.usersForm.controls.userId.value).subscribe(e=>{this.result=JSON.stringify(e),this.getUsers()},e=>{console.error(e)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g),t.Y36(t.sBO),t.Y36(o.QS))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-users-list"]],decls:14,vars:2,consts:[[3,"formGroup"],["type","text","id","userId","formControlName","userId","name","userId",1,"form-control"],[3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t._UZ(1,"input",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return r.getUsers()}),t._uU(3,"Get users"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return r.getUser()}),t._uU(5,"Get user"),t.qZA(),t.TgZ(6,"button",2),t.NdJ("click",function(){return r.addUser()}),t._uU(7,"add user"),t.qZA(),t.TgZ(8,"button",2),t.NdJ("click",function(){return r.updateUser()}),t._uU(9,"update user"),t.qZA(),t.TgZ(10,"button",2),t.NdJ("click",function(){return r.deleteUser()}),t._uU(11,"delete user"),t.qZA(),t.TgZ(12,"code"),t._uU(13),t.qZA()()),2&e&&(t.Q6J("formGroup",r.usersForm),t.xp6(13),t.hij(" ",r.result," "))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u],encapsulation:2}),s})()}];let C=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]}),s})(),L=(()=>{class s{constructor(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[U.m,C,o.UX]}),s})()}}]);